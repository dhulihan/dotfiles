#!/bin/bash -ex
# gg
#
# go get's a package and then opens it
# Author: Dave Hulihan

# This it what we should open the go project with
#INIT_PROJECT_CMD="vim"
INIT_PROJECT_CMD="tmux-session"

# disable module supportfor this since we want to download to src not pkg/mod
GO111MODULE=off go get -v $1 || echo "problem fetching $1"
cd ${GOPATH}/src/$1

# don't start up the project if we're already in tmux
if [[ -z $TMUX ]] ; then
  $INIT_PROJECT_CMD
fi
